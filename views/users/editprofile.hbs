<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="/stylesheets/style.css" rel="stylesheet">
</head>



<body>
    

   
    <!-- Topbar Start -->
    <div class="container-fluid bg-light navbar-light" >
        {{!-- <div class="row bg-secondary py-2 px-xl-5">
            <div class="col-lg-6 d-none d-lg-block">
                <div class="d-inline-flex align-items-center">
                    <a class="text-dark" href="">FAQs</a>
                    <span class="text-muted px-2">|</span>
                    <a class="text-dark" href="">Help</a>
                    <span class="text-muted px-2">|</span>
                    <a class="text-dark" href="">Support</a>
                </div>
            </div>
            <div class="col-lg-6 text-center text-lg-right">
                 <div class="d-inline-flex align-items-center">
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-facebook-f"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-twitter"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a class="text-dark px-2" href="">
                        <i class="fab fa-instagram"></i>
                    </a>
                    <a class="text-dark pl-2" href="">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div> 
        </div> --}}
        <div class="row align-items-center py-3 px-xl-5 ">
            <div class="col-lg-3 d-none d-lg-block">
                <a href="" class="text-decoration-none">
                    <h1 class="m-0 display-5 font-weight-semi-bold"><span
                            class="text-primary font-weight-bold border px-3 mr-1">E</span>Buy</h1>
                </a>
            </div>
            <div class="col-lg-6 col-6 text-left">
               <form>
               <div class="input-group-append">
                    <input class="input-group-text bg-transparent text-primary" type="text"
                        placeholder="Search for products" name="search" size="45px">
                    <div class="input-group-append">
                        <span class="input-group-text bg-transparent text-primary">
                            <input class="btn btn-primary btn-block border-0 " type="submit" value="search">


                        </span>
                    </div>
                </div>
            </form>

                <div id="item_card"></div>
            </div>
            <div class="col-lg-3 col-6 text-right">
                <a href="/wishlist" class="btn border">
                    <i class="fas fa-heart text-primary"></i>
                    {{!-- <span class="badge">0</span> --}}
                </a>
                <a href="/cart" class="btn border">
                    <i class="fas fa-shopping-cart text-primary"></i>
                    {{!-- <span class="badge">0</span> --}}
                </a>
            </div>
        </div>
    </div>
    <!-- Topbar End -->


    <!-- Navbar Start -->
    <div class="container-fluid bg-light navbar-light">
        <div class="row border-top px-xl-5">
            
            <div class="col-lg-9 mx-auto mb-2" >
                <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        <h1 class="m-0 display-5 font-weight-semi-bold"><span
                                class="text-primary font-weight-bold border px-3 mr-1">E</span>Shopper</h1>
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse"style="background-color: lightblue !important;">
                        <div class="navbar-nav mr-auto py-0">
                            <a href="/" class="nav-item nav-link">Home</a>
                            <a href="/shop" class="nav-item nav-link">Shop</a>
                            {{!-- <a href="/productdetails" class="nav-item nav-link">Shop Detail</a> --}}
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                                <div class="dropdown-menu rounded-0 m-0">
                                    <a href="/cart" class="dropdown-item">Shopping Cart</a>
                                    {{!-- <a href="checkout.html" class="dropdown-item">Checkout</a> --}}
                                </div>
                            </div>
                            {{!-- <a href="contact.html" class="nav-item nav-link">Contact</a> --}}
                        </div>
                         <div class="navbar-nav ml-auto py-0">
                            {{#if userData1}}
                            <a class="nav-item nav-link   active" href="/profile">Profile</a>
                            <a href="/logout" class="nav-item nav-link">Logout</a>
                            {{else}}
                            <a href="/login" class="nav-item nav-link">Login</a>
                            <a href="/register" class="nav-item nav-link">Register</a>
                            {{/if}}
                        </div>
                    </div>
                </nav>
            </div>
        </div>
    </div>
    <br>
    <br>

    

<style>

/* Style the form container */
.form-container {
  max-width: 600px;
  margin: auto;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

/* Style the form fields */
input[type=text], input[type=email], input[type=tel] {
  width: 100%;
  padding: 12px 20px;
  margin: 8px 0;
  box-sizing: border-box;
  border: 2px solid #ccc;
  border-radius: 4px;
  background-color: #f8f8f8;
  font-size: 16px;
}

/* Style the submit button */
input[type=submit] {
  background-color: #4CAF50;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  float: right;
}

/* Clear floats after the form */
.clearfix::after {
  content: "";
  clear: both;
  display: table;
}



</style>

<body>

<div class="form-container" style="margin-top: 50px ;background-color: lightblue !important;">
  <h2>Edit Profile</h2>
  <form id="form" action="" method="post">
    <label for="name">Name</label>
    <input type="text" id="name" name="name" value="{{userData.name}}" placeholder="Enter your name" required >


    
   <label for="email">Email</label>
    <input type="email" id="email" name="email" value="{{userData.email}}" placeholder="Enter your email" >
     <div  style="color: red;" class="error"></div>


    <label for="mobile">Mobile</label>
    <input type="tel" id="mobile" name="mobile" value="{{userData.mobile}}" placeholder="Enter your mobile number" >
     <div  style="color: red;" class="error"></div>

    <div class="clearfix">
        <input type="hidden" name="id" value="{{userData._id }}"> 
      <input type="submit" value="Save Changes">
      {{!-- <a href="/profile" class="btn btn-success">Go Back</a> --}}
    </div>
    {{!-- sending user id to save --}}
    
  </form>
</div>

</body>
</html>








<script>

const form = document.getElementById('form')
const name = document.getElementById('name')
const mobile = document.getElementById('mobile')

form.addEventListener('submit', e => {
    e.preventDefault();
    validateInputs();
});



const setError = (element, message) => {
    const inputControl = element.parentElement;
    const errorDisplay = inputControl.querySelector('.error');

    errorDisplay.innerText = message;
    inputControl.classList.add('error');
    inputControl.classList.remove('success')
}

const setSuccess = element => {
    const inputControl = element.parentElement;
    const errorDisplay = inputControl.querySelector('.error');

    errorDisplay.innerText = '';
    inputControl.classList.add('success');
    inputControl.classList.remove('error');
};

const isValidMobile = mobile => {
    const pattern = /^\d{10}$/;
    return pattern.test(mobile);
}


const validateInputs = () => {
    const nameValue = name.value.trim();
    const mobileValue = mobile.value.trim();

    if(nameValue === '') {
        setError(name, 'Name is required');
    } else {
        setSuccess(name);
    }
    

    if(mobileValue === '') {
        setError(mobile, 'Mobile number is required');
    } else if (!isValidMobile(mobileValue)) {
        setError(mobile, 'Provide a valid Mobile Number');
    } else {
        setSuccess(mobile);
    }


    if (name.parentElement.classList.contains('success') && mobile.parentElement.classList.contains('success') ) {
        form.submit();
     }

};


</script>